# Audio Mixing Test Configuration
# Demonstrates biological intermodulation between AID signal and external audio

# Include base protocol configuration
include = "protocol/raman-whisper.toml"

[simulation]
snr_db = 10.0
link_loss_db = 0.0
plaintext_source = "Testing intermodulation mixing with external audio"
rng_seed = 42

# Audio mixing configuration
# Models secondary intermodulation at cochlear nerve junction and auditory cortex
[simulation.audio_mixing]
# Path to external audio file (mp3, m4a, wav, flac supported)
# This audio represents environmental sounds entering through normal hearing
audio_file_path = "audio/test_tone.wav"

# Gain controls (0.0 to 1.0)
external_audio_gain = 0.5  # Volume of external audio (acoustic pathway)
aid_signal_gain = 0.5      # Volume of AID signal (neural pathway)

# Intermodulation enables
enable_second_order = true  # Cochlear nerve junction mixing (sum/difference)
enable_third_order = true   # Cortical processing (complex products)

# Intermodulation coefficients (0.0 to 1.0)
# Control the strength of non-linear mixing at different stages
second_order_coefficient = 0.3  # f_aid ± f_ext products
third_order_coefficient = 0.2   # 2f_aid ± f_ext, f_aid ± 2f_ext products

# Cortical integration coefficient (0.0 to 1.0)
# Models perceptual blending in auditory cortex
cortical_coefficient = 0.4

# Loop external audio if shorter than AID signal
loop_audio = true

[terminal]
telemetry_interval_secs = 0.5

[terminal.logging]
target = "stdout"
format = "json"
level = "info"
